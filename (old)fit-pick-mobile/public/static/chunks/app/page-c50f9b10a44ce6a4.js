(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2813:function(e,t,r){Promise.resolve().then(r.bind(r,1073))},3831:function(e,t,r){"use strict";r.d(t,{I:function(){return l},l:function(){return n}});var a=r(6142),o=r(2730);r(9079).env.Wjdn34fehvbgrwjn2dh;let n=(0,a.ZF)({apiKey:"AIzaSyDb07qS1E9NZdY8jaHUTICbjq2h7c1bI_E",authDomain:"fitpick-411706.firebaseapp.com",projectId:"fitpick-411706",storageBucket:"fitpick-411706.appspot.com",messagingSenderId:"10784791395",appId:"1:10784791395:web:0f6c81a2a06259b0121156",measurementId:"G-7RPGRCSX2Z"}),l=(0,o.v0)(n)},6397:function(e,t,r){"use strict";r.d(t,{w:function(){return l}});var a=r(2730),o=r(3831),n=r(4905);let l=()=>new Promise((e,t)=>{let r=[];(0,a.Aj)(o.I,a=>{if(a){let l=(a.uid+a.displayName).replaceAll(" ","");console.log(l);let i=(0,n.cF)(o.l),c=(0,n.iH)(i,l);(0,n.aF)(c).then(t=>{let a=[];t.items.forEach(e=>{let t=(0,n.Jt)(e).then(e=>{r.push(e)}).catch(t=>{switch(t.code){case"storage/object-not-found":console.error("File not found:",e.name);break;case"storage/unauthorized":console.error("Unauthorized to access file:",e.name);break;case"storage/unknown":console.error("Unknown error occurred for file:",e.name);break;default:console.error("Error fetching download URL for file:",e.name,t)}});a.push(t)}),Promise.all(a).then(()=>{e(r)})}).catch(e=>{console.error("Error listing items in folder:",e),t(e)})}})})},6480:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(3827),o=r(4852),n=r.n(o),l=r(703),i=r(4905),c=r(3831),s=r(2730);let u=e=>{(0,s.Aj)(c.I,t=>{if(t){console.log((t.uid+t.displayName).replaceAll(" ",""));let r=(0,i.cF)(c.l);alert(e);let a=(0,i.iH)(r,e);(0,i.oq)(a).then(()=>{console.log("File deleted :))"),window.location.reload()}).catch(e=>{console.error("Sorry, Error deleting image, Error:",e),window.location.reload()})}})};var d=e=>{let{ImageSource:t="default.png"}=e,r=e=>{u(e)};return(0,a.jsxs)("div",{id:"smallCard",className:n().PrimaryCard,children:[(0,a.jsx)(l.default,{src:t,width:5013,height:5013,alt:"Your amazing outfit",className:n().OutfitImageStyle,id:"SmallCardImage",title:"Chosen outfit",loading:"eager",onError:e=>{e.currentTarget.remove()}}),(0,a.jsx)("button",{className:n().DeleteButton,onClick:()=>r(t),children:"Delete"})]})}},6747:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthContextProvider:function(){return c},UserAuth:function(){return s}});var a=r(3827),o=r(4090),n=r(2730),l=r(3831);let i=(0,o.createContext)(),c=e=>{let t,{children:r}=e,[c,s]=(0,o.useState)(null);return t=navigator.userAgent.toLowerCase().includes("safari")?()=>{let e=new n.hJ;(0,n.rh)(l.I,e)}:()=>{let e=new n.hJ;(0,n.F6)(l.I,e)},(0,o.useEffect)(()=>{let e=(0,n.Aj)(l.I,e=>{s(e)});return()=>e()},[c]),(0,a.jsx)(i.Provider,{value:{user:c,googleSignIn:t,logOut:()=>{(0,n.w7)(l.I)}},children:r})},s=()=>(0,o.useContext)(i)},1073:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var a=r(3827),o=r(345),n=r.n(o);r(5686);var l=r(2409),i=r.n(l),c=r(703),s=function(e,t){return Math.floor(Math.random()*t)+e},u=r(4090),d=r(6397);let _="Click for new outfit!";var f=e=>{let{ImageSource:t="default2.jpeg"}=e,[r,o]=(0,u.useState)([]);return(0,u.useEffect)(()=>{(0,d.w)().then(e=>{o(e),console.log(e)}).catch(e=>{console.error("Error fetching closet:",e)})},[]),(0,a.jsx)("div",{className:i().PrimaryCard,title:_,children:(0,a.jsx)(c.default,{src:t,width:5013,height:5013,alt:"Your amazing outfit",className:i().OutfitImageStyle,id:"RandomCard",title:_,loading:"eager",priority:!0,onClick:e=>{let t=r[s(0,r.length)];for(;null==t||t==e.currentTarget.src||t==e.currentTarget.srcset;)console.log(t=r[s(0,r.length)]);e.currentTarget.src=t,e.currentTarget.srcset=t},onLoad:e=>{console.log("Outfit Loaded!")}})})},m=r(6480);let g=async()=>{try{let e=await (0,d.w)(),t=e.map((e,t)=>(0,a.jsx)(m.Z,{ImageSource:e},t));return[e,[t]]}catch(e){return console.error("Error fetching closet:",e),[]}};var p=r(2730),h=r(6747),C=r(3831);function P(){var e;let[t,r]=(0,u.useState)([]);(0,u.useEffect)(()=>{g().then(e=>{r(e),console.log(e)}).catch(e=>{console.error("Error fetching closet:",e)})},[]),console.log(t[0]);let o=t[0]?(0,a.jsx)(f,{ImageSource:t[0][s(0,t[0].length)]},0):null,{user:l}=(0,h.UserAuth)();return((0,p.Aj)(C.I,e=>{}),l)?(0,a.jsx)("main",{className:n().main,children:(0,a.jsxs)("div",{className:n().centerr,children:[(0,a.jsxs)("h1",{className:n().AppName,children:["Hi, ",null===(e=({user:l}).user)||void 0===e?void 0:e.displayName,"!"]}),o]})}):(0,a.jsx)("main",{className:n().main,children:(0,a.jsxs)("div",{className:n().centerr,children:[(0,a.jsx)("h1",{className:n().AppName,children:"Welcome to FitPick!"}),(0,a.jsx)(f,{ImageSource:"/default2.jpeg"})]})})}},5686:function(){},2409:function(e){e.exports={PrimaryCard:"PickedOutfitCard_PrimaryCard__pXnBS",CardPop:"PickedOutfitCard_CardPop__60l0m",OutfitImageStyle:"PickedOutfitCard_OutfitImageStyle__Av_Ev",CardPopMobile:"PickedOutfitCard_CardPopMobile___8pUN"}},4852:function(e){e.exports={PrimaryCard:"SmallOutfitCard_PrimaryCard__5_F2C",CardPop:"SmallOutfitCard_CardPop__Ws4eG",OutfitImageStyle:"SmallOutfitCard_OutfitImageStyle__ezwCm",DeleteButton:"SmallOutfitCard_DeleteButton__NYcQU",CardPopMobile:"SmallOutfitCard_CardPopMobile__iPU9D"}},345:function(e){e.exports={main:"page_main__GlU4n",description:"page_description__86bsR",AppName:"page_AppName__WeIWZ",introPop:"page_introPop__9bfPR",MainClosetFrame:"page_MainClosetFrame__aDh3Q",menu:"page_menu__71kMP",uploadButtonMain:"page_uploadButtonMain__kqKpe",uploadButton:"page_uploadButton__b2HuV",uploadButtonContainer:"page_uploadButtonContainer__GR655",centerMenu:"page_centerMenu__McuE5",listItemText:"page_listItemText__ROMil",code:"page_code__9lUUd",grid:"page_grid__f5Kdy",card:"page_card__QV0Om",center:"page_center__5oHG7",logo:"page_logo__7fc9l",content:"page_content__kDoxQ",vercelLogo:"page_vercelLogo__rOY_u"}}},function(e){e.O(0,[380,924,703,971,69,744],function(){return e(e.s=2813)}),_N_E=e.O()}]);